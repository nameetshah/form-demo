<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <!--    <script src="js/jquery-latest.min.js"></script>-->
    <link rel="stylesheet" href="Test_form.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <link rel="stylesheet" href="Test_form.css">

    <title>Test Form</title>
</head>
<body>
<div class="container">
    <div class="col">
        <div class="row formname-row">
            <h1 class="formname">Registration</h1>
        </div>
        <div class="row" style="height: border-box; border: 2px solid grey">
            <div class="col">
                <form action="" class="registrationform" name="registration" method="post" id="form1"
                      autocomplete="off">

                    <!-- First Name-->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="fname">First Name<sup style="color: red">*</sup></label>
                                <input type="text" id="fname" placeholder="First Name" class="form-control"
                                       aria-describedby="inputGroupPrepend" name="firstname">
                                <span id="fnameError" class="fname-error" style="color: red"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Last Name-->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="lname">Last Name<sup style="color: red">*</sup></label>
                                <input type="text" id="lname" placeholder="Last Name" class="form-control"
                                       aria-describedby="inputGroupPrepend" name="lastname">
                                <span id="lnameError" class="lname-error" style="color: red"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Username -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="username">Username<sup style="color: red"> *</sup></label>
                                <input type="text" id="uname" placeholder="Username" class="form-control"
                                       aria-describedby="inputGroupPrepend" name="username">
                                <span id="unameError" class="uname-error" style="color: red"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Date of Birth -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="dob">Date of Birth<sup style="color: red">*</sup></label>
                                <input type="date" id="date" placeholder="Birth-Date" class="form-control"
                                       aria-describedby="inputGroupPrepend">
                                <span id="dateError" class="date-error" style="color: red"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Gender -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                Gender <sup style="color: red">*</sup> :
                                <div class="form-check-inline" id="gender-group">

                                </div>
                                <span id="genderError" class="gender-error" style="color: red"> </span>
                            </div>
                        </div>
                    </div>

                    <!-- Hobbies -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                Hobbies <sup style="color: red">*</sup> :
                                <div class="form-check-inline" id="hobbies-group">

                                </div>
                                <span id="hobbiesError" class="hobbies-error" style="color: red"> </span>
                            </div>
                        </div>
                    </div>

                    <!-- Education -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="education">Education <sup style="color: red">*</sup> : </label>
                                <select name="" id="education">

                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Country -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="country">Country <sup style="color: red">*</sup> : </label>
                                <select name="" id="country">

                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="state">State <sup style="color: red">*</sup> :
                                </label>
                                <select name="" id="state">

                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- I agree -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input agreement-btn" type="checkbox" id="checkme"
                                           onchange="document.getElementById('sendNewSms').disabled = !this.checked;">
                                    <label class="form-check-label" for="invalidCheck">
                                        I hereby agree all Terms and Conditions.
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Register Button -->

                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div>
                                <button class="btn btn-primary" type="submit" id="submit-btn"
                                        style="width: 100%; margin-bottom: 10px" disabled>Register
                                </button>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

<!-- Hobbies Script -->


<script rel="javascript" type="text/javascript" href="js/jquery-1.11.3.min.js"></script>
<script>
    let hobbies = ["Cricket", "Movie", "Travelling", "Reading books", "Coding",];
    let checkHTML = "";

    $.each(hobbies, function (index, value) {
        checkHTML += '<label style="padding-left: 15px"><input type="checkbox" id="hobbies" name="hobbies" value="' + value + '"> ' + value + '</label><br>';
    });

    $("#hobbies-group").html(checkHTML);
</script>

<!-- Hobbies -->

<!-- Education -->

<script>
    var education = ["Bachelor of Computer Application", "Master of Computer Application", "Master of Science - Information Technology", "Bachelor of Science - Information Technology", "Computer Science"];
    var option = ""
    for (var i = 0; i < education.length; i++) {
        option += '<option value="' + education[i] + '">' + education[i] + "</option>"
    }
    document.getElementById('education').innerHTML = option
</script>

<!-- Education End -->

<!-- Gender -->

<script>
    let gender = ["Male", "Female"];
    let radioHTML = "";

    $.each(gender, function (index, value) {
        radioHTML += '<label style="padding-left: 15px"><input type="radio" id="gender" name="gender" value="' + value + '"> ' + value + '</label><br>';
    });

    $("#gender-group").html(radioHTML);
</script>

<!-- Gender End -->


<!-- Disable Submit button -->

<script>
    let checker = document.getElementById('checkme');
    let sendbtn = document.getElementById('submit-btn');
    0
    checker.onchange = function () {
        sendbtn.disabled = !this.checked;
    }
</script>

<!-- Disable Submit button Ends -->

<!-- Country & State API -->

<script>
    let auth_token;
    $(document).ready(function () {
        $.ajax({
            type: "get",
            success: function (data) {
                auth_token = data.auth_token
                getCountry(data.auth_token);
            },
            error: function (error) {
                console.log(error);
            },
        })
        $("#country").change(function () {
            getState();
        })
    })

    function getCountry(auth_token) {
        $.ajax({
            type: 'get',
            url: "https://countriesnow.space/api/v0.1/countries",
            success: function (data) {
                console.log("data", data.data)
                var option = ""
                for (var i = 0; i < data.data.length; i++) {
                    option += '<option value="' + data.data[i].country + '">' + data.data[i].country + "</option>"
                }
                document.getElementById('country').innerHTML = option
            },
        })
    }

    $('#country').change(function (item) {
        getState(item)
    })

    function getState() {
        $.ajax({
            type: 'post',
            url: "https://countriesnow.space/api/v0.1/countries/states",
            data: {
                country: $('#country').val()
            },
            success: function (stateName) {
                console.log("statename", stateName.data)
                var option1 = ""
                for (var j = 0; j < stateName.data.states.length; j++) {
                    option1 += '<option value="' + stateName.data.states[j].name + '">' + stateName.data.states[j].name + "</option>"
                }
                document.getElementById('state').innerHTML = option1
            },
        })
    }
</script>

<!-- Country & State API Ends -->

<!-- Pushing Data -->

<script>
    $("#submit-btn").click(function (e) {
        var fname = $("#fname").val();
        var lname = $("#lname").val();
        var uname = $("#uname").val();
        var date = $("#date").val();
        var gender = $('input[name="gender"]:checked').val();
        var hobbies = $('input[name="hobbies"]:checked').val();
        var education = $("#education").val();
        var country = $('#country').val();
        var state = $("#state").val();

        var item = [];
        item.push(fname, lname, uname, date, gender, hobbies, education, country, state);
        sessionStorage.item += JSON.stringify({
            "FirstName": fname,
            "LastName": lname,
            "UserName": uname,
            "Date": date,
            "Gender": gender,
            "Hobbies": hobbies,
            "Education": education,
            "Country": country,
            "State": state
        });
    });
</script>

<!-- Pushing Data Ends -->

</body>
</html>